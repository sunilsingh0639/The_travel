<div class="page-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <div class="h-100">
                    <div class="row mb-3 pb-1">
                        <div class="col-12">
                            <div class="d-flex align-items-lg-center flex-lg-row flex-column">
                                <div class="flex-grow-1">
                                    <h4 class="fs-16 mb-1">YEARLY RECON DASHBOARD</h4>
                                </div>
                                <div class="mt-3 mt-lg-0">
                                    <form [formGroup]="searchForm">
                                        <div class="row g-3 mb-0 align-items-center">
                                            <!--end col-->

                                            <!--end col-->
                                            <div *ngIf="hideClient==false" class="col-auto">
                                                <!-- Dropdown Variant -->
                                                <select style="width:110px;" class=" btn btn-primary "
                                                    (change)="findrecon()" formControlName="client"
                                                    aria-label="Default select example">
                                                    <option value="">Client</option>
                                                    <option *ngFor="let item of allClient" value="{{item.id}}">
                                                        {{item.clientName}}
                                                    </option>
                                                </select>

                                            </div>
                                            <!--end col-->
                                            <div class="col-auto">
                                                <!-- Dropdown Variant -->
                                                <select style="width:110px; color:white; " class=" btn btn-primary "
                                                    (change)="modo()" formControlName="recon"
                                                    aria-label="Default select example">
                                                    <option value="">Recon</option>
                                                    <option *ngFor="let item of filterRecon" value="{{item.id}}">
                                                        {{item.name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <!--end col-->
                                        </div>
                                        <!--end row-->
                                    </form>
                                </div>
                            </div><!-- end card header -->
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                    <!--end row-->

                    <div class="row">
                        <div class=" col-xl-3">

                            <div class="card card-animate">
                                <div class="s-card-height card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class=" badge bg-primary  text-uppercase  text-truncate mb-0">
                                                <b>ITC</b>
                                            </p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <h5 class="text-success fs-14 mb-0">

                                            </h5>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class=" fs-29  mb-4"><span class="counter-value" *ngFor="let data of yearITCCount">
                                                    Count: <br>
                                                    {{data.count}}</span> </h4>

                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title table-light rounded fs-2">
                                                <i class="bx "><img src="assets/images/svg/crypto-icons/cix.svg"> </i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!--  -->
                        </div><!-- end col -->
                        <div class=" col-xl-3">
                            <div class="card card-animate">
                                <div class="s-card-height card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class=" badge bg-primary  text-uppercase  text-truncate mb-0">
                                                <b>GSTR2B</b>
                                            </p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <h5 class="text-success fs-14 mb-0">

                                            </h5>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class=" fs-29  mb-4"><span class="counter-value" data-target="183.35" *ngFor="let data of yeargstcCount">
                                                    Count: <br>
                                                    {{data.count}}</span> </h4>

                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-primary rounded fs-2">
                                                <i class="bx "><img src="assets/images/svg/crypto-icons/cix.svg"> </i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!--  -->
                        </div><!-- end col -->
                        <div class=" col-xl-3">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class=" badge bg-primary  text-uppercase  text-truncate mb-0">
                                                <b>ITC</b>
                                            </p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <h5 class=" fs-14 mb-0"> TAX :

                                            </h5>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class=" fs-29  mb-4"><span class="counter-value" data-target="183.35" *ngFor="let data of yearITCCount">

                                                    Amount : <br>
                                                    {{data.amount}}</span> </h4>

                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title table-light rounded fs-2">
                                                <i class="bx "> &#8377;</i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!--  -->
                        </div>
                        <div class=" col-xl-3">
                            <!-- card -->

                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class=" badge bg-primary  text-uppercase  text-truncate mb-0">
                                                <b>GSTR2B</b>
                                            </p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <h5 class=" fs-14 mb-0" *ngFor="let data of yeargstcCount"> TAX :
                                                {{data.gstr2bAmountGST}}
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class=" fs-29  mb-4"><span class="counter-value" data-target="183.35" *ngFor="let data of yeargstcCount">
                                                    Amount :<br>
                                                    {{data.amount}}</span> </h4>

                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-primary rounded fs-2">
                                                <i class="bx "> &#8377;</i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!--  -->
                        </div>
                    </div>
                    <div class="row">
                        <div class=" col-xl-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="flex-grow-1">
                                        <h4 class="fs-16 mb-1">ITC</h4>
                                    </div>
                                    <canvas height="220px" id="doughnut"></canvas>
                                
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->
                        <div class=" col-xl-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="flex-grow-1">
                                        <h4 class="fs-16 mb-1">GSTR2B</h4>
                                    </div>
                                    <canvas height="220px" id="doughnut2"></canvas>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->
                    </div>


                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card card-height-100">
                                <div class="card-header align-items-center d-flex">
                                    <h4 class="card-title mb-0 flex-grow-1"> Yearly Comparison
                                    </h4>
                                    <div class="flex-shrink-0">
                                        <div class="dropdown card-header-dropdown">
                                            <a class="text-reset dropdown-btn" data-bs-toggle="dropdown"
                                                aria-haspopup="true" aria-expanded="false">
                                                <span class="text-muted">Report<i
                                                        class="mdi mdi-chevron-down ms-1"></i></span>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end">
                                                <a class="dropdown-item">Download Report</a>
                                                <a class="dropdown-item">Export</a>
                                                <a class="dropdown-item">Import</a>
                                            </div>
                                        </div>
                                    </div>
                                </div><!-- end card header -->
                                <div class="card-body">
                                    <div class="table-responsive table-card">
                                        <table class="table table-hover table-centered align-middle table-nowrap mb-0">
                                            <thead class="text-black text-center table-light">
                                                <tr>
                                                    <th scope="col"> </th>
                                                    <th class="theade" colspan="3" scope="col">GSTR2B </th>
                                                    <th class="theade" colspan="3" scope="col">ITC</th>
                                                    <th class="theade" colspan="3" scope="col">Difference</th>

                                                </tr>
                                            </thead>
                                            <thead class="text-muted table-light">
                                                <tr>
                                                    <th scope="col">Month </th>
                                                    <th class="theade" scope="col">Total</th>
                                                    <th scope="col"> Reconciled</th>
                                                    <th scope="col"> Unreconciled</th>
                                                    <th class="theade" scope="col">Total</th>
                                                    <th scope="col"> Reconciled</th>
                                                    <th scope="col"> Unreconciled</th>
                                                    <th class="theade" scope="col">Total</th>
                                                    <th scope="col"> Reconciled</th>
                                                    <th scope="col"> Unreconciled</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor=" let data of yearMonCountGSTR;let i=index">

                                                    <td>
                                                        <div class="d-flex align-items-center">

                                                            <div class="flex-grow-1"> {{months[data.month]}}</div>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <span class="flex-grow-1"> {{data.status == 'RECONCILED' ? data.count : 0}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-success"> {{data.status == 'RECONCILED' ? data.count : 0}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-danger">{{data.status == 'UNRECONCILED' ? data.count : 0}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="flex-grow-1">{{months[yearMonCountITC[i].month]}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-success">  {{yearMonCountITC[i].status == 'RECONCILED' ? yearMonCountITC[i].count : 0}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-danger"> {{yearMonCountITC[i].status == 'RECONCILED' ? yearMonCountITC[i].count : 0}}</span>
                                                    </td>
                                                    <td>
                                                        <span class="flex-grow-1"> {{yearMonCountITC[i].count +
                                                            data.count }}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-success"> {{data.count -
                                                            yearMonCountITC[i].count }}</span>
                                                    </td>
                                                    <td>
                                                        <span class="text-danger"> {{data.count -
                                                            yearMonCountITC[i].count}}</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- <div
                                        class="align-items-center mt-4 pt-2 justify-content-between row text-center text-sm-start">
                                        <div class="col-sm">
                                            <div class="text-muted">
                                                Showing <span class="fw-semibold">5</span> of <span
                                                    class="fw-semibold">25</span> Results
                                            </div>
                                        </div>
                                        <div class="col-sm-auto  mt-3 mt-sm-0">
                                            <ul
                                                class="pagination pagination-separated pagination-sm mb-0 justify-content-center">
                                                <li class="page-item disabled">
                                                    <a  class="page-link">←</a>
                                                </li>
                                                <li class="page-item">
                                                    <a  class="page-link">1</a>
                                                </li>
                                                <li class="page-item active">
                                                    <a  class="page-link">2</a>
                                                </li>
                                                <li class="page-item">
                                                    <a  class="page-link">3</a>
                                                </li>
                                                <li class="page-item">
                                                    <a  class="page-link">→</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div> -->
                                </div>
                            </div>
                        </div> <!-- .card-->
                    </div>

                </div>
            </div>
        </div>
    </div> <!--  first-row-end -->
</div>