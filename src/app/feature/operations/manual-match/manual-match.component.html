<div class="page-content">
    <div class="container-fluid">
         <!-- start page title -->
         <div class="row">
            <div class="col-lg-12">
                <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                    <h4 class="mb-sm-0">Manual Match</h4>
                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item"><a href="javascript: void(0);">Operations</a></li>
                            <li class="breadcrumb-item active">Manual Match</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-12 ">
                        <form action="#" class="form-steps" autocomplete="off">                           
                            <div id="custom-progress-bar" class="progress-nav mb-4">
                                <div class="progress" style="height: 1px;">
                                    <div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>

                                <ul class="nav nav-pills progress-bar-tab custom-nav" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link rounded-pill active"
                                            data-progressbar="custom-progress-bar" id="pills-gen-info-tab"
                                            data-bs-toggle="pill" data-bs-target="#pills-gen-info" type="button"
                                            role="tab" aria-controls="pills-gen-info" aria-selected="true">1</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link rounded-pill" [ngClass]="{'active' : step>1}"
                                            data-progressbar="custom-progress-bar" id="pills-info-desc-tab"
                                            data-bs-toggle="pill" data-bs-target="#pills-info-desc" type="button"
                                            role="tab" aria-controls="pills-info-desc" aria-selected="false">2</button>
                                    </li>

                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link rounded-pill" [ngClass]="{'active' : step>3}"
                                            data-progressbar="custom-progress-bar" id="pills-success-tab"
                                            data-bs-toggle="pill" data-bs-target="#pills-success" type="button"
                                            role="tab" aria-controls="pills-success" aria-selected="false">3</button>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-content">
                                <div *ngIf="step==1" class="tab-pane fade show active" id="pills-info-desc"
                                    role="tabpanel" aria-labelledby="pills-info-desc-tab">
                                    <div>


                                        <div [formGroup]="manualMatchForm" class="row gy-3">

                                            <div *ngIf="hideClient==false" class="col-md-4">
                                                <label for="cc-name" class="form-label madatroy">Client</label>
                                                <select class="form-select mb-3" (change)="updateClient()" formControlName="client" aria-label="Default select example">
                                                    <option value="">Select Client </option>
                                                    <option [value]="client.id" *ngFor="let client of clientList?.data">{{client.clientName}}</option>
                                                   
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label for="cc-name" class="form-label madatroy">Recon</label>
                                                <select class="form-select mb-3" (change)="getRuleListByReconId()" formControlName="recon" aria-label="Default select example">
                                                    <option value="">Select Recon </option>
                                                    <option [value]="recon.id" *ngFor="let recon of reconList">{{recon.name}}</option>
                                                </select>
                                            </div>


                                        </div>
                                        <div class="row" *ngIf="manualMatchForm.value.recon != ''">
                                            <div class="col-md-12 mb-2" *ngFor="let item of rules; let i = index">
                                                <div class="form-check">
                                                    <input class="form-check-input" (click)="updateSelectedRule(item)" type="checkbox" [checked]="isChecked(item)" value="" id="flexCheckIndeterminate">
                                                    <label class="form-check-label" for="flexCheckIndeterminate">
                                                     {{item?.name}}
                                                    </label>
                                                  </div>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-start gap-3 mt-4">
                                        <button type="button" [disabled]="selectedRules.length == 0" (click)="step=2;goToMatchingRules()"
                                            class="btn btn-primary btn-label right ms-auto nexttab nexttab"
                                            data-nexttab="pills-success-tab"><i
                                                class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i>Go To Matching Rules</button>
                                    </div>
                                </div>
                                <!-- end tab pane -->
                                <div *ngIf="step==2" class="tab-pane fade show active" id="pills-success"
                                    role="tabpanel" aria-labelledby="pills-success-tab">
                                    <div>
                                        <div class="tab-pane fade active show" id="v-pills-payment" role="tabpanel"
                                            aria-labelledby="v-pills-payment-tab">
                                            <div class="card joblist-card">
                                                <div class="card-body">
                                                    <div class="d-flex mb-4">
                                                        <div class="ms-3 flex-grow-1"> <img
                                                                src="assets/images/small/img-8.jpg" alt=""
                                                                class="d-none cover-img"> <a href="#!">
                                                                <h5 class="job-title">Rule Configration</h5>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="row" style="width:100%">
                                                        <div class="col-2 card card-body">
                                                            <div data-simplebar="init">
                                                                    <ul class="to-do-menu list-unstyled" id="projectlist-data">
                                                                        <li *ngFor="let item of selectedRules; let i = index">
                                                                            <a data-bs-toggle="pill" (click)="selectedRule=i;selectedRuleDetail = item" [ngClass]="{'active' : selectedRule==i}"
                                                                                class="nav-link fs-14" aria-expanded="false">{{item.name}}</a>
                                                                            <div class="collapse" id="velzonAdmin">
                                        
                                                                            </div>
                                                                        </li>
                                                                        
                                                                    </ul>
                                                                    <!-- <div class="simplebar-placeholder" style="width: auto; height: 460px;"></div> -->
                                                                </div>
                                                                <div class="simplebar-track simplebar-horizontal" style="visibility: hidden;">
                                                                    <div class="simplebar-scrollbar" style="width: 0px; display: none;"></div>
                                                                </div>
                                                                <div class="simplebar-track simplebar-vertical" style="visibility: visible;">
                                                                    <div class="simplebar-scrollbar"
                                                                        style="height: 25px; transform: translate3d(0px, 0px, 0px); display: block;"></div>
                                                                </div>
                                                            </div>
                                        
                                                            <!-- 
                                                            <div class="mt-auto text-center">
                                                                <img src="assets/images/task.png" alt="Task" class="img-fluid">
                                                            </div> -->
                                                        <!--end side content-->
                                                        <div class="col-lg-10">
                                                            <div class="col-12 card">
                                                                <div class="" id="demo">
                                                                  <div class="row">
                                                                    <div class="col-lg-12">
                                                                      <div class="card-body">
                                                                        <div class="row g-3">
                                                                          <div class="col-lg-4 col-6">
                                                                            <p class="text-muted mb-2 text-uppercase fw-semibold">Type</p>
                                                                            <h5 class="fs-14 mb-0">
                                                                              <span id="invoice-no"> {{selectedRules[selectedRule]?.ruleType}}</span>
                                                                            </h5>
                                                                          </div>
                                                                          <div *ngIf="selectedRules[selectedRule].ruleType != 'MATCHING'" class="col-lg-4 col-6">
                                                                            <p class="text-muted mb-2 text-uppercase fw-semibold">Source</p>
                                                                            <h5 class="fs-14 mb-0">
                                                                              <span id="invoice-no"> {{selectedRules[selectedRule]?.fileType}}</span>
                                                                            </h5>
                                                                          </div>
                                                                          <div *ngIf="selectedRules[selectedRule].ruleType == 'MATCHING'" class="col-lg-4 col-6">
                                                                            <p class="text-muted mb-2 text-uppercase fw-semibold">Matching Type</p>
                                                                            <h5 class="fs-14 mb-0">
                                                                              <span id="invoice-no"> {{selectedRules[selectedRule]?.matchingType}}</span>
                                                                            </h5>
                                                                          </div>
                                                                          <div class="col-lg-4 col-6">
                                                                            <p class="text-muted mb-2 text-uppercase fw-semibold">Name</p>
                                                                            <h5 class="fs-14 mb-0">
                                                                              <span id="invoice-no"> {{selectedRules[selectedRule]?.name}}</span>
                                                                            </h5>
                                                                          </div>
                                                                        </div>
                                                                        <div class="row g-3">
                                                                            <div class="col-lg-12 col-6">
                                                                              <p class="text-muted mb-2 mt-4 text-uppercase fw-semibold">Description</p>
                                                                              <p class="fs-14 mb-0">
                                                                                <span id="invoice-no">  {{selectedRules[selectedRule]?.description}}</span>
                                                                              </p>
                                                                            </div>
                                                                            
                                                                          </div>
                                                                      </div>
                                                                      <!--end card-body-->
                                                                    </div>
                                                                    <!--end col-->
                                                        
                                                                    <!--end col-->
                                                                  </div>
                                                                  <!--end row-->
                                                                </div>
                                                                <!--end card-->
                                                              </div>
                                                            <div class="card">
                                                                <form>
                                                                 
                                                                  <div class="row mb-3">
                                                                    <div class="col-lg-12" *ngIf="type == 'matching'">
                                                                      <label for="nameInput" class="form-label">Matching Type</label>
                                                                      <div  class="form-control mt-align" >
                                                                        <div class="form-check form-check-inline mr-4">
                                                                          <input class="form-check-input " type="radio" name="matchingType" id="inlineRadio1" value='ONE_TO_ONE'
                                                                            [(ngModel)]="selectedRules[selectedRule].matchingType" name="matchingType">
                                                                          <label class="form-check-label" for="inlineRadio1">One To One</label>
                                                                        </div>
                                                                        <div class="form-check form-check-inline ml-4">
                                                                          <input class="form-check-input " type="radio" name="matchingType" id="inlineRadio2" value="ONE_TO_MANY"
                                                                          [(ngModel)]="selectedRules[selectedRule].matchingType" name="matchingType">
                                                                          <label class="form-check-label" for="inlineRadio2">One To Many</label>
                                                                        </div>
                                                                        <div class="form-check form-check-inline ml-4">
                                                                          <input class="form-check-input " type="radio" name="matchingType" id="inlineRadio3" value="MANY_TO_MANY"
                                                                          [(ngModel)]="selectedRules[selectedRule].matchingType" name="matchingType">
                                                                          <label class="form-check-label" for="inlineRadio3">Many To Many</label>
                                                                        </div>
                                                                      </div>
                                                                      
                                                                    </div>
                                                                  </div>
                                                                
                                                                  
                                                                <!-- //  <hr> -->
                                                                <div *ngIf="selectedRules[selectedRule].ruleType == 'KNOCK_OFF'  || selectedRules[selectedRule].ruleType == 'SAME_SIDE_REVERSAL'" class="joblist-card">
                                                                  <div class="card-body" >
                                                                  <div class="d-flex mb-4">
                                                                    <div class="avatar-sm">
                                                                        <div
                                                                            class="avatar-title bg-light rounded">
                                                                            <img src="assets/images/companies/img-9.png"
                                                                                alt=""
                                                                                class="avatar-xxs companyLogo-img">
                                                                        </div>
                                                                    </div>
                                                                    <div class="ms-3 flex-grow-1"> 
                                                                        <a>
                                                                            <h5 class="job-title">Filters</h5>
                                                                        </a>
                                                                       
                                                                    </div>
                                                                 
                                                                  
                                                                </div>
                                                                  <div class="row">
                                                                    <div class="col-lg-3">
                                                                      <label for="websiteUrl" class="form-label">Field</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label">Operator</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label">Value</label>
                                                                    </div>
                                                                  </div>
                                                                  <div>
                                                                    <div class="row mb-3" *ngFor="let item of selectedRules[selectedRule].filters; let i = index" >
                                                                      <div class="col-lg-3">
                                                                        <select  [(ngModel)]="item.fieldName"  name="fieldName{{i}}" class="form-select" id="inlineFormSelectPref">
                                                                          <option value=""> Select Field</option>
                                                                          <option [value]="item.columnName" *ngFor="let item of columns">{{item.columnName}}</option>                   
                                                                        </select>
                                                                      </div>
                                                                      <div class="col-lg-4">
                                                                        <select  [(ngModel)]="item.operatorType" name="operatorType{{i}}" class="form-select" id="inlineFormSelectPref">
                                                                          <option value="">Select Operator</option>
                                                                          <option [value]="item.operatorType"  *ngFor="let item of operators">{{item.operatorType}}</option>
                                                                        </select>
                                                                      </div>
                                                                      <div class="col-lg-4">
                                                                        <input [(ngModel)]="item.value" type="url"  appNumberOnly class="form-control" appTrimValidator id="websiteUrl"
                                                                          placeholder="Value"  minlength="3" maxlength="30" name="value{{i}}">
                                                                      </div>
                                                                      <div class="col-md-1">
                                                                        <div class="mb-3 delete-icon" >
                                                                          <i class="ri-delete-bin-fill text-muted"></i>
                                                                        </div>
                                                                      </div>
                                                                    </div>
                                                                  </div>
                                                                  <div class="row">
                                                                    <div class="col-md-12">
                                                                      <button type="submit" class="btn btn-primary" 
                                                                        (click)="addNewFilter()">+ Add </button>
                                                          
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                                </div>
                                                                <div  *ngIf="selectedRules[selectedRule].ruleType == 'MATCHING' && selectedRules[selectedRule]?.matchingType == 'ONE_TO_ONE'" class="card joblist-card">
                                                                  <div class="card-body" >
                                                                    <div class="d-flex mb-4">
                                                                      <div class="avatar-sm">
                                                                          <div
                                                                              class="avatar-title bg-light rounded">
                                                                              <img src="assets/images/companies/img-9.png"
                                                                                  alt=""
                                                                                  class="avatar-xxs companyLogo-img">
                                                                          </div>
                                                                      </div>
                                                                      <div class="ms-3 flex-grow-1"> 
                                                                          <a>
                                                                              <h5 class="job-title">ITC Filters</h5>
                                                                          </a>
                                                                         
                                                                      </div>
                                                                   
                                                                    
                                                                  </div>
                                                                  <div class="row">
                                                                    <div class="col-lg-3">
                                                                      <label for="websiteUrl" class="form-label">  Field</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label"> Operator</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label"> Value</label>
                                                                    </div>
                                                                  </div>
                                                                  <div formArrayName="listOfITCRulesFilter">
                                                                    <div *ngFor="let item of listOfITCRulesFilter.controls; let i = index" [formGroupName]="i" class="row">

                                                                      <div class="col-md-3">
                                                                        <select class="form-select" formControlName="fieldName" id="inlineFormSelectPref">
                                                                          <option value="">Select Column</option>
                                                                          <option *ngFor="let type of itcColums" [value]="type.columnName">{{type.columnName}}
                                                                          </option>
                                                                        </select>
                                                                      </div>
                                                                      <div class="col-md-4">
                                                                        <select class="form-select" formControlName="operatorType" id="inlineFormSelectPref">
                                                                          <option value="">Select Operator</option>
                                                                          <option [value]="item.operatorType"  *ngFor="let item of operators">{{item.operatorType}}</option>
                                                                        </select>
                                                                      </div>
                                                        
                                                                      <div class="col-lg-4">
                                                                        <input type="url" class="form-control" formControlName="value" id="websiteUrl" placeholder="ITC Value" minlength="3" maxlength="30"
                                                                        name="lastName">
                                                                      </div>
                                                                      <div class="col-md-1">
                                                                        <div class="mb-3 delete-icon" (click)="removeMatchingCodition(i)">
                                                                          <i class="ri-delete-bin-fill text-muted"></i>
                                                                        </div>
                                                                      </div>
                                                                      <!--end col-->
                                                                    </div>
                                                                  </div>
                                                                 
                                                                  <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                      <button type="submit" class="btn btn-primary" 
                                                                        (click)="addNewLeftFilter()">+ Add ITC Filter </button> 
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                                </div>
                                                                <div  *ngIf="selectedRules[selectedRule].ruleType == 'MATCHING' && selectedRules[selectedRule]?.matchingType == 'ONE_TO_ONE'" class="card joblist-card">
                                                                  <div class="card-body" >
                                                                    <div class="d-flex mb-4">
                                                                      <div class="avatar-sm">
                                                                          <div
                                                                              class="avatar-title bg-light rounded">
                                                                              <img src="assets/images/companies/img-9.png"
                                                                                  alt=""
                                                                                  class="avatar-xxs companyLogo-img">
                                                                          </div>
                                                                      </div>
                                                                      <div class="ms-3 flex-grow-1"> 
                                                                          <a>
                                                                              <h5 class="job-title">GSTR2B Filters</h5>
                                                                          </a>
                                                                         
                                                                      </div>            
                                                                  </div>
                                                                  <div class="row">
                                                                    <div class="col-lg-3">
                                                                      <label for="websiteUrl" class="form-label">  Field</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label"> Operator</label>
                                                                    </div>
                                                                    <div class="col-lg-4">
                                                                      <label for="websiteUrl" class="form-label"> Value</label>
                                                                    </div>
                                                                  </div>
                                                                  <div formArrayName="listOfGSTR2BRulesFilter">
                                                                    <div *ngFor="let item of listOfGSTR2BRulesFilter.controls; let i = index" [formGroupName]="i" class="row">

                                                                      <div class="col-md-3">
                                                                        <select class="form-select" formControlName="fieldName" id="inlineFormSelectPref">
                                                                          <option value="">Select Column</option>
                                                                          <option *ngFor="let type of itcColums" [value]="type.columnName">{{type.columnName}}
                                                                          </option>
                                                                        </select>
                                                                      </div>
                                                                      <div class="col-md-4">
                                                                        <select class="form-select" formControlName="operatorType" id="inlineFormSelectPref">
                                                                          <option value="">Select Operator</option>
                                                                          <option [value]="item.operatorType"  *ngFor="let item of operators">{{item.operatorType}}</option>
                                                                        </select>
                                                                      </div>
                                                        
                                                                      <div class="col-lg-4">
                                                                        <input type="url" class="form-control" formControlName="value" id="websiteUrl" placeholder="ITC Value" minlength="3" maxlength="30"
                                                                        name="lastName">
                                                                      </div>
                                                                      <div class="col-md-1">
                                                                        <div class="mb-3 delete-icon" (click)="removeMatchingCodition(i)">
                                                                          <i class="ri-delete-bin-fill text-muted"></i>
                                                                        </div>
                                                                      </div>
                                                                      <!--end col-->
                                                                    </div>
                                                                </div>
                                                                  <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                      <button type="submit" class="btn btn-primary" 
                                                                        (click)="addNewRightFilter()">+ Add GSTR2B Filter </button> 
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                                </div>
                                                                <div  *ngIf="selectedRules[selectedRule].ruleType == 'MATCHING'" class="card joblist-card">
                                                                  <div *ngIf="selectedRules[selectedRule]?.matchingType == 'ONE_TO_ONE'" class="card-body" >
                                                                      <div class="d-flex mb-4">
                                                                          <div class="avatar-sm">
                                                                              <div
                                                                                  class="avatar-title bg-light rounded">
                                                                                  <img src="assets/images/companies/img-7.png"
                                                                                      alt=""
                                                                                      class="avatar-xxs companyLogo-img">
                                                                              </div>
                                                                          </div>
                                                                          <div class="ms-3 flex-grow-1"> <img
                                                                                  src="assets/images/small/img-8.jpg"
                                                                                  alt="" class="d-none cover-img">
                                                                              <a href="#!">
                                                                                  <h5 class="job-title">Matching
                                                                                      Conditions</h5>
                                                                              </a>
                                                                             
                                                                          </div>
                                                                       
                                                                        
                                                                      </div>
                                                                      <div class="row">
                                                                        <div class="col-lg-3">
                                                                          <label for="websiteUrl" class="form-label">  ITC (Column)</label>
                                                                        </div>
                                                                        <div class="col-lg-4">
                                                                          <label for="websiteUrl" class="form-label"> Criteria</label>
                                                                        </div>
                                                                        <div class="col-lg-4">
                                                                          <label for="websiteUrl" class="form-label"> GSTR2B (Column)</label>
                                                                        </div>
                                                                        
                                                                      </div>
                                                                      <div formArrayName="listOfMatchingCondition">

                                                                      <div *ngFor="let item of listOfMatchingCondition.controls; let i = index" [formGroupName]="i" class="row">
                                                                      
                                                                          <div class="col-md-3">
                                                                            <select class="form-select" formControlName="fieldNameITC" id="inlineFormSelectPref" >
                                                                              <option value="">Choose...</option>
                                                                              <option *ngFor="let type of itcColums" [value]="type.columnName">{{type.columnName}}
                                                                              </option>
                                                                              </select>
                                                                          </div>
                                                                          <div class="col-md-4">
                                                                            <select class="form-select" formControlName="operatorType" id="inlineFormSelectPref" >
                                                                              <option value="">Choose...</option>
                                                                              <option [value]="item.operatorType"  *ngFor="let item of operators">{{item.operatorType}}</option>
                                                                              </select>
                                                                          </div>
                                                                         
                                                                          <div class="col-md-4">
                                                                            <select class="form-select" formControlName="fieldNameGSTR2B"  id="inlineFormSelectPref" >
                                                                              <option value="">Choose...</option>
                                                                              <option *ngFor="let type of gstr2bColumns" [value]="type.columnName">{{type.columnName}}
                                                                              </option>                                                                              </select>
                                                                          </div>
                                                                          <div class="col-md-1">
                                                                            <div class="mb-3 delete-icon" (click)="removeMatchingCodition(i)">
                                                                              <i class="ri-delete-bin-fill text-muted"></i>
                                                                            </div>
                                                                        </div>
                                                                          <!--end col-->
                                                                      </div>
                                                                      </div>
                                                                      <div class="row">
                                                                        <div class="col-md-12">
                                                                          <button type="submit" class="btn btn-primary" 
                                                                            (click)="addNewMatchingCodition()">+ Add </button> 
                                                                        </div>
                                                                      </div> 
                                                                  </div>
                                                                  <div *ngIf="selectedRules[selectedRule]?.matchingType == 'ONE_TO_MANY'" class="card-body" >
                                                                    <div class="d-flex mb-4">
                                                                        <div class="avatar-sm">
                                                                            <div
                                                                                class="avatar-title bg-light rounded">
                                                                                <img src="assets/images/companies/img-7.png"
                                                                                    alt=""
                                                                                    class="avatar-xxs companyLogo-img">
                                                                            </div>
                                                                        </div>
                                                                        <div class="ms-3 flex-grow-1"> <img
                                                                                src="assets/images/small/img-8.jpg"
                                                                                alt="" class="d-none cover-img">
                                                                            <a href="#!">
                                                                                <h5 class="job-title">Grouping
                                                                                    Conditions</h5>
                                                                            </a>
                                                                           
                                                                        </div>
                                                                     
                                                                      
                                                                    </div>
                                                                    <div class="row">
                                                                      <div class="col-lg-3">
                                                                        <label for="websiteUrl" class="form-label"> Group By Fields</label>
                                                                      </div>
                                                                    
                                                                      
                                                                    </div>
                                                                    <div *ngFor="let item of matchingConditions; let i=index" class="row">
                                                                    
                                                                        <div class="col-md-3">
                                                                          <select class="form-select" id="inlineFormSelectPref" >
                                                                            <option value="">Choose...</option>
                                                                            <option *ngFor="let type of allTypes" [value]="type">{{type.name}}
                                                                            </option>
                                                                            </select>
                                                                        </div>
                                                                       
                                                                        <!--end col-->
                                                                    </div>
                                                                 
                                                                </div>
                                                                <div *ngIf="selectedRules[selectedRule]?.matchingType == 'MANY_TO_MANY'" class="card-body" >
                                                                  <div class="d-flex mb-4">
                                                                      <div class="avatar-sm">
                                                                          <div
                                                                              class="avatar-title bg-light rounded">
                                                                              <img src="assets/images/companies/img-7.png"
                                                                                  alt=""
                                                                                  class="avatar-xxs companyLogo-img">
                                                                          </div>
                                                                      </div>
                                                                      <div class="ms-3 flex-grow-1"> <img
                                                                              src="assets/images/small/img-8.jpg"
                                                                              alt="" class="d-none cover-img">
                                                                          <a href="#!">
                                                                              <h5 class="job-title">Grouping
                                                                                  Conditions</h5>
                                                                          </a>
                                                                         
                                                                      </div>
                                                                   
                                                                    
                                                                  </div>
                                                                  <div class="row">
                                                                    <div class="col-lg-6">
                                                                      <label for="websiteUrl" class="form-label">ITC Group By Fields</label>
                                                                    </div>
                                                                    <div class="col-lg-6">
                                                                      <label for="websiteUrl" class="form-label">GSTR2B Group By Fields</label>
                                                                    </div>
                                                                    
                                                                  </div>
                                                                  <div *ngFor="let item of matchingConditions; let i=index" class="row">
                                                                  
                                                                      <div class="col-md-6">
                                                                        <select class="form-select" id="inlineFormSelectPref" >
                                                                          <option value="">Choose...</option>
                                                                          <option *ngFor="let type of allTypes" [value]="type">{{type.name}}
                                                                          </option>
                                                                          </select>
                                                                      </div>
                                                                      <div class="col-md-6">
                                                                        <select class="form-select" id="inlineFormSelectPref" >
                                                                          <option value="">Choose...</option>
                                                                          <option *ngFor="let type of allTypes" [value]="type">{{type.name}}
                                                                          </option>
                                                                          </select>
                                                                      </div>
                                                                      <!--end col-->
                                                                  </div>
                                                               
                                                              </div>
                                                              </div>
                                                                  
                                                                </form>
                                                                <!--end col-->
                                                              </div>                                                            </div>
                                                            </div>
                                                  
                                                </div>

                                            </div>

                                            <div class="d-flex align-items-start gap-3 mt-4">
                                                <button type="button" (click)="step=1"
                                                    class="btn btn-light btn-label previestab"
                                                    data-previous="v-pills-bill-address-tab"><i
                                                        class="ri-arrow-left-line label-icon align-middle fs-16 me-2"></i>
                                                    Back to Recon Info</button>
                                                <button type="button" (click)="step=3;saveManualMatchData()"
                                                    class="btn btn-primary btn-label right ms-auto nexttab nexttab"
                                                    data-nexttab="v-pills-finish-tab"><i
                                                        class="ri-arrow-right-line label-icon align-middle fs-16 ms-2"></i>
                                                    Show Results</button>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                                <div *ngIf="step==3" class="tab-pane fade active show" id="pills-success"
                                    role="tabpanel" aria-labelledby="pills-success-tab">
                                    <div>
                                        <div class="card">


                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-xl-3 col-md-6">
                                                        <!-- card -->
                                                        <div class="card card-animate">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="flex-grow-1">
                                                                        <p
                                                                            class="text-uppercase fw-medium text-muted mb-0">
                                                                            Matched Invoices</p>
                                                                    </div>
                                                                    <!-- <div class="flex-shrink-0">
                                                                        <h5 class="text-success fs-14 mb-0">
                                                                            <i
                                                                                class="ri-arrow-right-up-line fs-13 align-middle"></i>
                                                                            +89.24 %
                                                                        </h5>
                                                                    </div> -->
                                                                </div>
                                                                <div
                                                                    class="d-flex align-items-end justify-content-between mt-4">
                                                                    <div>
                                                                        <h4 class="fs-22 fw-semibold ff-secondary mb-4">
                                                                            <span class="counter-value"
                                                                                data-target="559.25">2,258</span></h4>
                                                                        <span class="badge bg-warning me-1">125400</span>
                                                                        <span class="text-muted"> Matched Amount</span>
                                                                    </div>
                                                                    <!-- <div class="avatar-sm flex-shrink-0">
                                                                        <span
                                                                            class="avatar-title bg-light rounded fs-3">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="currentColor" stroke-width="2"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"
                                                                                class="feather feather-file-text text-success icon-dual-success">
                                                                                <path
                                                                                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z">
                                                                                </path>
                                                                                <polyline points="14 2 14 8 20 8">
                                                                                </polyline>
                                                                                <line x1="16" y1="13" x2="8" y2="13">
                                                                                </line>
                                                                                <line x1="16" y1="17" x2="8" y2="17">
                                                                                </line>
                                                                                <polyline points="10 9 9 9 8 9">
                                                                                </polyline>
                                                                            </svg>
                                                                        </span>
                                                                    </div> -->
                                                                </div>
                                                            </div><!-- end card body -->
                                                        </div><!-- end card -->
                                                    </div><!-- end col -->

                                                    <div class="col-xl-3 col-md-6">
                                                        <!-- card -->
                                                        <div class="card card-animate">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="flex-grow-1">
                                                                        <p
                                                                            class="text-uppercase fw-medium text-muted mb-0">
                                                                            Matched GST</p>
                                                                    </div>
                                                                    <!-- <div class="flex-shrink-0">
                                                                        <h5 class="text-danger fs-14 mb-0">
                                                                            <i
                                                                                class="ri-arrow-right-down-line fs-13 align-middle"></i>
                                                                            +8.09 %
                                                                        </h5>
                                                                    </div> -->
                                                                </div>
                                                                <div
                                                                    class="d-flex align-items-end justify-content-between mt-4">
                                                                    <div>
                                                                        <h4 class="fs-22 fw-semibold ff-secondary mb-4">
                                                                            <span class="counter-value"
                                                                                data-target="409.66">409</span></h4>
                                                                        <span class="badge bg-warning me-1"></span><br>
                                                                        <span class="text-muted"> </span>
                                                                    </div>
                                                                    <!-- <div class="avatar-sm flex-shrink-0">
                                                                        <span
                                                                            class="avatar-title bg-light rounded fs-3">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="currentColor" stroke-width="2"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"
                                                                                class="feather feather-check-square text-success icon-dual-success">
                                                                                <polyline points="9 11 12 14 22 4">
                                                                                </polyline>
                                                                                <path
                                                                                    d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11">
                                                                                </path>
                                                                            </svg>
                                                                        </span>
                                                                    </div> -->
                                                                </div>
                                                            </div><!-- end card body -->
                                                        </div><!-- end card -->
                                                    </div><!-- end col -->

                                                    <div class="col-xl-3 col-md-6">
                                                        <!-- card -->
                                                        <div class="card card-animate">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="flex-grow-1">
                                                                        <p
                                                                            class="text-uppercase fw-medium text-muted mb-0">
                                                                            UnMatched count</p>
                                                                    </div>
                                                                    <div class="flex-shrink-0">
                                                                        <h5 class="text-black fs-14 mb-0">
                                                                            <i
                                                                                class="ri-right-down-line fs-13 align-middle"></i>
                                                                                GSTR2B
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="d-flex align-items-end justify-content-between mt-4">
                                                                    <div>
                                                                        <h4 class="fs-22 fw-semibold ff-secondary mb-4">
                                                                            <span class="counter-value"
                                                                                data-target="136.98">136</span></h4>
                                                                        <span class="badge bg-warning me-1">33800</span>
                                                                        <span class="text-muted">Unmatched Amount</span>
                                                                    </div>
                                                                    <!-- <div class="avatar-sm flex-shrink-0">
                                                                        <span
                                                                            class="avatar-title bg-light rounded fs-3">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                stroke="currentColor" stroke-width="2"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round"
                                                                                class="feather feather-clock text-success icon-dual-success">
                                                                                <circle cx="12" cy="12" r="10"></circle>
                                                                                <polyline points="12 6 12 12 16 14">
                                                                                </polyline>
                                                                            </svg>
                                                                        </span>
                                                                    </div> -->
                                                                </div>
                                                            </div><!-- end card body -->
                                                        </div><!-- end card -->
                                                    </div><!-- end col -->

                                                    <div class="col-xl-3 col-md-6">
                                                        <!-- card -->
                                                        <div class="card card-animate">
                                                            <div class="card-body">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="flex-grow-1">
                                                                        <p
                                                                            class="text-uppercase fw-medium text-muted mb-0">
                                                                            UnMatched count</p>
                                                                    </div>
                                                                    <div class="flex-shrink-0">
                                                                        <h5 class="text-black fs-14 mb-0">
                                                                            <i
                                                                                class="ri-right-up-line fs-13 align-middle"></i>
                                                                            ITC
                                                                        </h5>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="d-flex align-items-end justify-content-between mt-4">
                                                                    <div>
                                                                        <h4 class="fs-22 fw-semibold ff-secondary mb-4">
                                                                            <span class="counter-value"
                                                                                data-target="84.20">84</span></h4>
                                                                        <span class="badge bg-warning me-1">50,200</span>
                                                                        <span class="text-muted">Unmatched Amount</span>
                                                                    </div>
                                                                  </div>
                                                            </div><!-- end card body -->
                                                        </div><!-- end card -->
                                                    </div><!-- end col -->
                                                </div>
                                                <div id="customerList">
                                                    <div class="row g-4 mb-3">
                                                        <div class="col-sm-auto">
                                                            <div class="btn-group shadow" role="group" aria-label="Basic example">
                                                                <button type="button" class="btn btn-primary waves-effect waves-light shadow-none" [ngClass]="{'active' : selectedType=='itc'}" (click)="getManualMatchITCData();selectedType='itc'">ITC As Per Book</button>
                                                                <button type="button" class="btn btn-primary waves-effect waves-light shadow-none" [ngClass]="{'active' : selectedType=='gstr2b'}" (click)="getManualMatchGSTR2BData();selectedType='gstr2b'">GSTR2B</button>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm">
                                                            <div class="d-flex justify-content-sm-end">
                                                                <button type="button" class="btn btn-primary add-btn"
                                                                    data-bs-toggle="modal" id="create-btn" (click)="acceptManualMatchData()"
                                                                    data-bs-target="#showModal"><i class="mdi mdi-account-multiple-check
                                                            "></i> Accept</button>
                                                                <button class="btn btn-soft-danger"
                                                                    (auxclick)="rejectManualMatchData()"><i class="mdi mdi-account-multiple-remove-outline
                                                            "></i>Reject</button>

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <app-list-view  [data]="data" [headers]="headers" [showCheckbox]="true" [showMultipleDelete]="false"   [showAddNewButton]="false"></app-list-view>
                                                </div>
                                                <button type="button" (click)="step=2"
                                                class="btn btn-light btn-label previestab"
                                                data-previous="v-pills-bill-address-tab"><i
                                                    class="ri-arrow-left-line label-icon align-middle fs-16 me-2"></i>
                                                Back to Matching Rules</button>
                                            </div><!-- end card -->
                                         
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end tab content -->
                        </form>
                    </div>
                    <!-- end card body -->
            <!-- end col -->
        </div><!-- end row -->
    </div>
</div>